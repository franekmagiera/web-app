(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(1),c=n.n(a),s=n(21),i=n.n(s),o=(n(75),n(8)),j=(n(76),n(160)),u=n(161),l=n(162),b=n(158),d=n(150),O=n(151),h=n(152),p=n(163),x=n(33),f=n(66),v=n(65),g=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1];return Object(r.jsx)("div",{children:Object(r.jsxs)(d.a,{color:"dark",dark:!0,expand:"md",children:[Object(r.jsxs)(O.a,{children:[Object(r.jsx)(x.a,{icon:v.a,size:"2x",id:"tooltip-about",color:"white",fixedWidth:!0}),Object(r.jsx)("a",{href:"https://github.com/franekmagiera/web-app",children:Object(r.jsx)(x.a,{icon:f.a,size:"2x",fixedWidth:!0})})]}),Object(r.jsx)(h.a,{className:"mx-auto order-0",children:"Wikidata Explorer"}),Object(r.jsxs)(p.a,{placement:"bottom",isOpen:c,target:"tooltip-about",toggle:function(){return s(!c)},children:[Object(r.jsx)("h6",{children:"About Wikidata Explorer"}),Object(r.jsx)("span",{children:"Wikidata Explorer let's you search for entities present in wikidata.org end execute SPARQL queries. For more information, visit project's GitHub page by clicking on the icon next to the question mark."})]})]})})},m=n(12),S=n(154),k=n(155),y=n(156),E=n(157),w=Object.freeze({SEARCH_ENTITIES:1,SPARQL_QUERY:2,properties:{1:{label:"Search entities"},2:{label:"SPARQL query"}}}),R=n(14),C=n.n(R),T=n(18),L=n(153),Q=n(37),P=n.n(Q),D=n(69),N=n.n(D)()({instance:"https://www.wikidata.org",sparqlEndpoint:"https://query.wikidata.org/sparql"}),q=function(){var e=Object(T.a)(C.a.mark((function e(t,n){var r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=N.searchEntities({search:t,language:n}),e.next=3,P.a.get(r);case 3:return a=e.sent,e.abrupt("return",a.data.search);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(C.a.mark((function e(t){var n,r,a,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.sparqlQuery(t).split("?"),r=Object(o.a)(n,2),a=r[0],c=r[1],e.next=3,P.a.post(a,c);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)("en"),j=Object(o.a)(i,2),u=j[0],l=j[1],d=Object(a.useState)(!1),O=Object(o.a)(d,2),h=O[0],p=O[1],x=Object(a.useState)(""),f=Object(o.a)(x,2),v=f[0],g=f[1],m=function(){var t=Object(T.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=5;break}g("Entity field cannot be empty!"),p(!0),t.next=17;break;case 5:return p(!1),t.prev=6,t.next=9,q(c,u);case 9:n=t.sent,e.onSearch(n),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),g(t.t0.message),p(!0);case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)(L.a,{color:"danger",isOpen:h,toggle:function(){return p(!1)},children:v}),Object(r.jsxs)(S.a,{children:[Object(r.jsxs)(k.a,{children:[Object(r.jsx)(y.a,{for:"search",children:"Entity"}),Object(r.jsx)(E.a,{placeholder:"What entity do you want to search for?",onChange:function(e){return s(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),m())}})]}),Object(r.jsxs)(k.a,{children:[Object(r.jsx)(y.a,{for:"language",children:"Language"}),Object(r.jsxs)(E.a,{type:"select",name:"select",onChange:function(e){return l(e.target.value)},children:[Object(r.jsx)("option",{children:"en"}),Object(r.jsx)("option",{children:"pl"})]})]})]}),Object(r.jsx)(b.a,{color:"primary",onClick:m,block:!0,children:"Search"})]})},_=function(e){var t=Object(a.useState)('SELECT ?continent ?continentLabel\nWHERE\n{\n    ?continent wdt:P31 wd:Q5107.\n    SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }\n}\nORDER BY xsd:integer(SUBSTR(STR(?continent),STRLEN("http://www.wikidata.org/entity/Q")+1))'),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),j=Object(o.a)(i,2),u=j[0],l=j[1],d=Object(a.useState)(""),O=Object(o.a)(d,2),h=O[0],p=O[1],x=function(){var t=Object(T.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=5;break}p("Query field cannot be empty!"),l(!0),t.next=17;break;case 5:return l(!1),t.prev=6,t.next=9,A(c);case 9:n=t.sent,e.onSearch(n),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),p(t.t0.message),l(!0);case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)(S.a,{children:Object(r.jsxs)(k.a,{children:[Object(r.jsx)(L.a,{color:"danger",isOpen:u,toggle:function(){return l(!1)},children:h}),Object(r.jsx)(y.a,{for:"sparql-query",children:"SPARQL query"}),Object(r.jsx)(E.a,{type:"textarea",name:"query",className:"textareaQuery",wrap:"off",value:c,spellcheck:"false",onChange:function(e){return s(e.target.value)}})]})}),Object(r.jsx)(b.a,{color:"primary",onClick:x,block:!0,children:"Execute"})]})},z=function(e){var t,n=Object(a.useState)(w.SEARCH_ENTITIES),c=Object(o.a)(n,2),s=c[0],i=c[1];Object(a.useEffect)((function(){e.onDataSourceChange(s)}));var j=Object.freeze((t={},Object(m.a)(t,w.SEARCH_ENTITIES,Object(r.jsx)(I,{onSearch:e.setData})),Object(m.a)(t,w.SPARQL_QUERY,Object(r.jsx)(_,{onSearch:e.setData})),t));return Object(r.jsxs)("div",{className:"leftPaneForm",children:[Object(r.jsx)(S.a,{children:Object(r.jsxs)(k.a,{children:[Object(r.jsx)(y.a,{for:"Data-source",children:"Data source"}),Object(r.jsxs)(E.a,{type:"select",name:"select",onChange:function(t){return function(t){i(t.target.value),e.setData(null)}(t)},children:[Object.entries(w.properties).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(r.jsx)("option",{value:n,children:a.label})})),";"]})]})}),j[s]]})},W=n(159),B=function(e){var t=["concepturi","label","description","aliases"];if(e.data){var n=e.data.map((function(e){return function(e){var n=Object.entries(e).filter((function(e){return t.includes(e[0])}));return Object.fromEntries(n)}(e)}));return Object(r.jsxs)(W.a,{borderless:!0,responsive:!0,size:"sm",children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:t.map((function(e){return Object(r.jsx)("th",{children:e})}))})}),Object(r.jsx)("tbody",{children:n.map((function(e){return Object(r.jsx)("tr",{children:Object.entries(e).map((function(e){var t=Object(o.a)(e,2);return function(e,t){var n="concepturi"===e?Object(r.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:t}):t;return Object(r.jsx)("td",{children:n})}(t[0],t[1])}))})}))})]})}return Object(r.jsx)("div",{})},F=function(e){if(e.data){var t=e.data.head.vars,n=e.data.results.bindings,a=function(e){var t="uri"===e.type?Object(r.jsx)("a",{href:e.value,target:"_blank",rel:"noopener noreferrer",children:e.value}):e.value;return Object(r.jsx)("td",{children:t})};return Object(r.jsx)("div",{children:Object(r.jsxs)(W.a,{borderless:!0,responsive:!0,size:"sm",children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:t.map((function(e){return Object(r.jsx)("th",{children:e})}))})}),Object(r.jsx)("tbody",{children:n.map((function(e){return Object(r.jsx)("tr",{children:Object.values(e).map(a)})}))})]})})}return Object(r.jsx)("div",{})},H=function(e){var t,n=Object.freeze((t={},Object(m.a)(t,w.SEARCH_ENTITIES,Object(r.jsx)(B,{data:e.data})),Object(m.a)(t,w.SPARQL_QUERY,Object(r.jsx)(F,{data:e.data})),t));return Object(r.jsx)("div",{children:n[e.dataSourceType]})};var U=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),i=Object(o.a)(s,2),d=i[0],O=i[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(g,{}),Object(r.jsx)(j.a,{fluid:!0,children:Object(r.jsxs)(u.a,{children:[Object(r.jsxs)(l.a,{sm:"3",className:"leftPaneCol",children:[Object(r.jsx)(z,{setData:c,onDataSourceChange:O}),Object(r.jsx)("div",{className:"exportButton",children:Object(r.jsx)(b.a,{color:"secondary",onClick:function(){var e=JSON.stringify(n),t=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(t),a=document.createElement("a");a.download="export.json",a.href=r,a.click()},disabled:!n,block:!0,children:"Export"})})]}),Object(r.jsx)(l.a,{sm:"9",className:"rightPanelCol",children:Object(r.jsx)(H,{data:n,dataSourceType:d})})]})})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,164)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(147);i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(U,{})}),document.getElementById("root")),Y()},75:function(e,t,n){},76:function(e,t,n){}},[[148,1,2]]]);
//# sourceMappingURL=main.a834eea5.chunk.js.map